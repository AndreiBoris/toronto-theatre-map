<!DOCTYPE html><html lang="en" id="html-elem"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width,initial-scale=1"><meta name="viewport" content="initial-scale=1,user-scalable=no"><meta name="description" content="Theatre in Toronto"><meta name="author" content="Andrei Borissenko"><title>Toronto Live Theatre Resource</title><script>var googleWatcherObject = {
        googleWatcherVariable: false,
        googleWatcherFunction: function() {
            this.googleWatcherVariable = 'success';
        },
        googleWatcherError: function() {
            this.googleWatcherVariable = 'failure';
            console.log('Google Maps API failed to load');
        }
    }

    // Thank you to Jake Archibald at www.html5rocks.com for the following script!
    // http://www.html5rocks.com/en/tutorials/speed/script-loading/#disqus_thread
    // see dist/perm/production/jsLoading.js for details
    // Currently in DEVELOPMENT MODE
    'use strict';
    // If you add a script here, be sure to add it to the gulp file load order
    // as well in the Scripts task
    var scripts = [
        'dist/perm/production/jquery_and_knockout.min.js',
        'src/scripts/mapmanager.js', // development mode
        'src/scripts/utilities.js', // development mode
        'src/scripts/attributes.js', // development mode
        'src/scripts/directions.js', // development mode
        'src/scripts/markers.js', // development mode
        'src/scripts/twitter.js', // development mode
        'src/scripts/filter.js', // development mode
        'src/scripts/glow.js', // development mode
        'src/scripts/sort.js', // development mode
        'src/scripts/divs.js', // development mode
        'src/scripts/start.js', // development mode
        // 'dist/scripts/main.min.js', // PRODUCTION mode
        // 'https://maps.googleapis.com/maps/api/js?key=AIzaSyCQCl1KRNkAF-BPdyKyO92M0d4vd6MOd0w&callback=mapManager.initMap&region=CA'
    ];

    var src;
    var script;
    var pendingScripts = [];
    var firstScript = document.scripts[0];

    // Watch scripts load in IE
    function stateChange() {
        // Execute as many scripts in order as we can
        var pendingScript;
        while (pendingScripts[0] && pendingScripts[0].readyState === 'loaded') {
            pendingScript = pendingScripts.shift();
            // avoid future loading events from this script (eg, if src changes)
            pendingScript.onreadystatechange = null;
            // can't just appendChild, old IE bug if element isn't closed
            firstScript.parentNode.insertBefore(pendingScript, firstScript);
        }
    }

    // loop through our script urls
    while (scripts.length > 0) {
        src = scripts.shift();
        if ('async' in firstScript) { // modern browsers
            script = document.createElement('script');
            script.async = false;
            script.src = src;
            document.head.appendChild(script);
        } else if (firstScript.readyState) { // IE<10
            // create a script and add it to our todo pile
            script = document.createElement('script');
            pendingScripts.push(script);
            // listen for state changes
            script.onreadystatechange = stateChange;
            // must set src AFTER adding onreadystatechange listener
            // else weâ€™ll miss the loaded event for cached scripts
            script.src = src;
        } else { // fall back to defer
            document.write('<script src="' + src + '" defer></' + 'script>');
        }
    }</script><link href="dist/styles/print.min.css" rel="stylesheet" media="print"><!-- All CSS styles for the page are here. --><link href="dist/styles/main.min.css" rel="stylesheet"></head><body id="body" onresize="mapManager.util.repositionTabs()"><div><div id="overlay-div"></div><div data-bind="visible: !showDirections()" class="title-text title-theatre">Theatre</div><div data-bind="visible: !showDirections()" class="title-text title-in">in</div><div data-bind="visible: !showDirections()" class="title-text title-toronto">Toronto</div><div class="button-overlay enter-button-border2 button-white"></div><div class="button-overlay enter-button-border1 button-white"></div><div id="enter-button" class="button-overlay button-white text-center" data-bind="click: openOverlay"><p>Check it out</p></div><div id="load-button" class="button-white"><div id="load-mover"></div></div><div class="right-overlay button-white"></div></div><!-- Div where extra information about a theatre is shown. --><div id="display-div" class="left-divs left-div-off"><!-- View where the information is shown (scrolls) --><div id="display-box"><!-- Container where information is held (can exceed view) --><div class="current-display"><h4 class="display-title"><!-- Title changes when different markers are selected --><a class="display-link" target="_blank" data-bind="attr: { href: currentWebsite },
                text: currentTitle"></a></h4><!-- Container holds address and directions button in the same 
                way that other containers hold two buttons --><div class="button-flex"><!-- Not a button --><div id="address-line" class="text-50" data-bind="text: currentAddress"></div><!-- A button --><div class="button-50-info button-white text-center" data-bind="click: toggleDirectionsDisplay,
                    text: directionText"></div></div><!-- Contains the blurb about each theatre, either hardcoded 
                text or taken from Wikipedia if the hardcode is not available.
                Not displayed if directions are being shown. --><div data-bind="visible: !showDirections()"><p data-bind="text: currentBlurb"></p><br></div><!-- Contains the directions taken from Google Maps Directions
                API in steps. --><div data-bind="visible: showDirections"><p data-bind="visible: directionSuccess">Direction from Yonge and Bloor subway station:</p><ul class="directions" data-bind="foreach: currentDirections"><li class="direction" data-bind="text: $data"></li></ul><br><!-- Travel time message --><p data-bind="text: travelTime"></p><br><!-- Must be included to use the API --><p data-bind="text: currentCopyrights"></p></div><!-- NOTE: The direction-button goes into the InfoWindows 
                created on the map through the Google Maps API and doesn't 
                actually live here in the display-div --><div id="direction-button" class="button-flex"><div id="left-div-open-button" class="button-50-info button-white" data-bind="click: openLeftDiv,
                    text: detailText"></div><div class="button-50-info button-white" data-bind="click: toggleDirectionsInfo,
                    text: directionText"></div></div></div></div><!-- Buttons at the bottom of display-div to control what is shown --><div class="button-flex"><!-- Close the display-div --><div class="button-50 button-white" data-bind="click: closeLeftDiv">Close Box</div><!-- Close the display-div, directions and the InfoWindow --><div class="button-50 button-white" data-bind="click: closeMarkerInfo">Clear Map</div></div></div><!-- Google Maps API map. --><div id="map"></div><!-- The following three images are all on top of one another and are revealed
        by changing the opacity through JavaScript. --><img id="list-tab" class="tab-plain tab-off list-tab-image" src="dist/images/list-tab-border.png"><img id="list-tab-highlight" class="tab-highlight tab-off list-tab-image" src="dist/images/list-tab-highlight.png"><img id="list-tab-back" class="tab-back tab-off list-tab-image" data-bind="click: slideList" src="dist/images/back-tab-border.png"><!-- This div lists all the theatres by name. --><div id="list-div" class="right-divs right-div-off"><!-- These buttons allow sorting the theatres alphabetically or by date
            founded. --><div class="button-flex"><div class="button-50 button-white" data-bind="click: sortListAlpha">Alphabetical<!-- The spans become visible when a sort method is selected 
                    and indicate which direction the sort is performed in using
                    up and down arrows. --><span class="no-border" data-bind="visible: currentSort() === 'alpha'">&dArr;</span> <span class="no-border" data-bind="visible: currentSort() === 'alpha-reverse'">&uArr;</span></div><div class="button-50 button-white" data-bind="click: sortListFounding">Date Founded <span class="no-border" data-bind="visible: currentSort() === 'date'">&dArr;</span> <span class="no-border" data-bind="visible: currentSort() === 'date-reverse'">&uArr;</span></div></div><!-- Use Knockout to list each item in the markers array. --><ul class="button-list-flex scroll-div" data-bind="foreach: markers"><!-- Each item becomes a button that accesses the corresponding marker.
                A list item is 'visible' if it it not being filtered through the 
                controls in the filter-div below. --><li class="button-list-item" data-bind="visible: listed, click: $root.accessMarker"><h4 class="bolded-text list-title" data-bind="text: title"></h4><p class="text-center">Date founded: <span class="bump-size bolded-text" data-bind="text: founded"></span></p></li></ul><div id="map-error" data-bind="visible: googleMapFailed" class="scroll-div"><span class="large-font">Oh no!</span> We couldn't load Google Maps due to some connection error. Perhaps there is some issue with the link to Google Maps or a break in your local connection? You can try checking your connection and reloading the page!</div></div><!-- Tabs work just like for the list-tabs above. --><img id="twitter-tab" class="tab-plain tab-off twitter-tab-image" src="dist/images/twitter-tab-border.png"><img id="twitter-tab-highlight" class="tab-highlight tab-off twitter-tab-image" src="dist/images/twitter-tab-highlight.png"><img id="twitter-tab-back" class="tab-back tab-off twitter-tab-image" data-bind="click: slideTwitter" src="dist/images/back-tab-border.png"><!-- This div features Twitter feed either from a list of all the theatres
        referenced in the app, or from one particular company. --><div id="twitter-div" class="right-div-off right-divs"><!-- These buttons allow switches between the list and user feeds, and 
            between keeping the feed short or allowing Twitter to do a true feed
            with virtually endless tweets acccessed by scrolling down. --><div class="button-flex"><div id="twitter-list-button" class="button-50 button-white" data-bind=" click: switchTwitter"><!-- Text changes depending on whether a single account or the 
                    list of all accounts is being viewed. --><span class="no-border" data-bind="visible: twitterListView">See User Feed</span> <span class="no-border" data-bind="visible: !twitterListView()">See List Feed</span></div><div class="button-50 button-white" data-bind="click: toggleTwitterLength"><!-- Text changes depending on the current state of the feed length --><span class="no-border" data-bind="visible: twitterLong">Collapse Feed</span> <span class="no-border" data-bind="visible: !twitterLong()">Expand Feed</span></div></div><!-- List view --><div id="twitter-list" class="scroll-div" data-bind="visible: twitterListView() && twitterIsOpen"></div><!-- Reference to which account we are on for user-view --><div id="twitter-account-header" data-bind="text: currentTitle, visible: !twitterListView() && twitterIsOpen"></div><!-- User view --><div id="twitter-account" class="scroll-div" data-bind="visible: !twitterListView() && twitterIsOpen"></div><!-- Error appears behind the other divs and will display 1.5 seconds
            after switching views or feed lengths if there is some problem in 
            loading the feeds. --><div id="twitter-error" class="scroll-div"><!-- User view error message --><div data-bind="visible: !twitterListView() && twitterIsOpen"><span class="large-font">Hmmm!</span> We're trying to load the Twitter feed for the account <span class="italic-font" data-bind="text: activeTwitter"></span>. If this message persists, try clicking on another marker on the map to reload. If this fails, there might be some error in the connection!</div><!-- List view error message --><div data-bind="visible: twitterListView() && twitterIsOpen"><span class="large-font">Hmmm!</span> We're trying to load a list of Twitter accounts connected to Toronto Theatre. If this message persists, there might be some issue connecting to Twitter. Sorry for the inconvenience!</div></div></div><!-- Tabs work like the list and twitter tabs above. --><img id="filter-tab" class="tab-plain tab-off filter-tab-image" src="dist/images/filter-tab-border.png"><img id="filter-tab-highlight" class="tab-highlight tab-off filter-tab-image" src="dist/images/filter-tab-highlight.png"><img id="filter-tab-back" class="tab-back tab-off filter-tab-image" data-bind="click: slideFilter" src="dist/images/back-tab-border.png"><!-- This div features buttons to filter the theatres presented based on 
        interests. --><div id="filter-div" class="right-div-off right-divs"><!-- Reset filters --><div class="button-flex"><div class="button-100 button-white" data-bind=" click: clearFilters">Uncheck all</div></div><!-- All filter options --><ul class="button-filter-flex scroll-div" data-bind="foreach: filters"><li class="button-filter-item" data-bind="click: $root.toggleFilter,
            text: flag, css: { buttonOn: filter() }"><!-- We apply the buttonOn class when the observable 'filter' is
                'true' --></li></ul></div><footer><!-- Attributions for the icons used --><span id="credit-marker" data-bind="click: slideCredits">Credits</span><div id="credit-div" data-bind="css: { creditDivOn: creditOn() } "><div class="attributions">Map style made by <a target="_blank" href="http://www.xavierfoucrier.fr" title="Xavier Foucrier">Xavier</a> from <a target="_blank" href="https://snazzymaps.com/style/25/blue-water" title="Snazzy Maps">Snazzy Maps</a></div><div class="attributions">Icons made by <a target="_blank" href="http://www.freepik.com" title="Freepik">Freepik</a> from <a target="_blank" href="http://www.flaticon.com" title="Flaticon">www.flaticon.com</a> is licensed by <a target="_blank" href="http://creativecommons.org/licenses/by/3.0/" title="Creative Commons BY 3.0">CC BY 3.0</a></div><div class="attributions">Icons made by <a target="_blank" href="http://www.flaticon.com/authors/icomoon" title="Icomoon">Icomoon</a> from <a target="_blank" href="http://www.flaticon.com" title="Flaticon">www.flaticon.com</a> is licensed by <a target="_blank" href="http://creativecommons.org/licenses/by/3.0/" title="Creative Commons BY 3.0">CC BY 3.0</a></div><div class="button-100 button-white" data-bind=" click: slideCredits">Dismiss</div></div></footer><!-- Twitter methods for creating timelines dynamically --><script async src="https://platform.twitter.com/widgets.js"></script><!-- Google Maps API --><script async src="https://maps.googleapis.com/maps/api/js?key=AIzaSyCQCl1KRNkAF-BPdyKyO92M0d4vd6MOd0w&callback=googleWatcherObject.googleWatcherFunction&region=CA" onerror="googleWatcherObject.googleWatcherError()"></script></body></html>